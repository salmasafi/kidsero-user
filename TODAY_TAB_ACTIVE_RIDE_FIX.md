# ØªØ­Ø³ÙŠÙ† ØµÙØ­Ø© Today - Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø©

## Ø§Ù„Ù…Ø´ÙƒÙ„Ø©
ØµÙØ­Ø© Today ÙƒØ§Ù†Øª ØªØ¹Ø±Ø¶ ÙÙ‚Ø· Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø© Ù„Ù„ÙŠÙˆÙ…ØŒ ÙˆÙ„ÙƒÙ† Ù„Ù… ØªÙƒÙ† ØªØ¹Ø±Ø¶ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© (Current Ride) Ø¨Ø´ÙƒÙ„ Ù…Ù…ÙŠØ² Ø¨ÙƒØ§Ø±Øª Ø£Ø®Ø¶Ø±.

## Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
- Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© (Active Ride) ÙÙŠ ÙƒØ§Ø±Øª Ø£Ø®Ø¶Ø± Ù…Ù…ÙŠØ² ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
- Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡ØŒ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„ÙˆØµÙˆÙ„)
- Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªØªØ¨Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
- Ø¹Ø±Ø¶ Ø¨Ø§Ù‚ÙŠ Ø±Ø­Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø© ØªØ­Øª Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø©

## Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø·Ø¨Ù‚

### 1. ØªØ­Ø¯ÙŠØ« ChildRidesState
**Ø§Ù„Ù…Ù„Ù**: `lib/features/rides/cubit/child_rides_cubit.dart`

**Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª**:
```dart
class ChildRidesLoaded extends ChildRidesState {
  final ActiveRide? activeRide; // âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø©
  
  bool get hasActiveRide => activeRide != null; // âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø±Ø­Ù„Ø© Ù†Ø´Ø·Ø©
}
```

### 2. ØªØ­Ø¯ÙŠØ« loadRides Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø©
**Ø§Ù„Ù…Ù„Ù**: `lib/features/rides/cubit/child_rides_cubit.dart`

**Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª**:
```dart
Future<void> loadRides() async {
  // Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·ÙÙ„
  final childDetails = await _repository.getChildRides(childId);
  
  // Ø¬Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø±Ø­Ù„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø·ÙÙ„
  ActiveRide? activeRide;
  try {
    final activeRides = await _repository.getActiveRides();
    activeRide = activeRides.firstWhere(
      (ride) => ride.childId == childId,
      orElse: () => throw Exception('No active ride'),
    );
  } catch (_) {
    activeRide = null; // Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø­Ù„Ø© Ù†Ø´Ø·Ø©
  }
  
  emit(ChildRidesLoaded(
    childDetails: childDetails,
    summary: summary,
    activeRide: activeRide, // âœ… ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø©
  ));
}
```

### 3. ØªØ­Ø¯ÙŠØ« Today Tab UI
**Ø§Ù„Ù…Ù„Ù**: `lib/features/rides/ui/screens/child_schedule_screen.dart`

**Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª**:

#### Ø£. Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© Ø£ÙˆÙ„Ø§Ù‹
```dart
Widget _buildTodayTab() {
  return BlocBuilder<ChildRidesCubit, ChildRidesState>(
    builder: (context, state) {
      if (state is ChildRidesLoaded) {
        final hasActiveRide = state.activeRide != null;
        
        return ListView(
          children: [
            // âœ… Ù‚Ø³Ù… Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© (Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª)
            if (hasActiveRide) ...[
              Text('Active Ride'),
              _buildActiveRideCard(state.activeRide!),
            ],
            
            // âœ… Ø¨Ø§Ù‚ÙŠ Ø±Ø­Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…
            if (todayRides.isNotEmpty) ...[
              Text(hasActiveRide ? 'Other Rides Today' : 'Today'),
              ...todayRides.map((ride) => _buildUpcomingRideCard(ride)),
            ],
          ],
        );
      }
    },
  );
}
```

#### Ø¨. ÙƒØ§Ø±Øª Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© (Active Ride Card)
```dart
Widget _buildActiveRideCard(ActiveRide ride) {
  return Container(
    decoration: BoxDecoration(
      gradient: LinearGradient(
        colors: [AppColors.success, AppColors.success.withValues(alpha: 0.8)],
      ),
      borderRadius: BorderRadius.circular(16),
      boxShadow: [
        BoxShadow(
          color: AppColors.success.withValues(alpha: 0.3),
          blurRadius: 12,
        ),
      ],
    ),
    child: Column(
      children: [
        // Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¨Ø§Øµ + Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø­Ù„Ø©
        Row(
          children: [
            Icon(Icons.directions_bus, color: Colors.white),
            Text('Ride in Progress', style: TextStyle(color: Colors.white)),
            Badge('LIVE'), // âœ… Ø´Ø§Ø±Ø© Ù…Ø¨Ø§Ø´Ø±
          ],
        ),
        
        // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆÙ‚ÙŠØª
        Row(
          children: [
            Icon(Icons.access_time),
            Text('Started: ${formatTime(ride.startedAt)}'),
            if (ride.estimatedArrival != null)
              Text('ETA: ${formatTime(ride.estimatedArrival)}'),
          ],
        ),
        
        // Ø²Ø± Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
        Container(
          child: Row(
            children: [
              Icon(Icons.location_on),
              Text('Track Live Location'),
              Icon(Icons.arrow_forward_ios),
            ],
          ),
        ),
      ],
    ),
  );
}
```

## Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

### 1. ÙƒØ§Ø±Øª Ø£Ø®Ø¶Ø± Ù…Ù…ÙŠØ² Ù„Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© âœ…
- ØªØµÙ…ÙŠÙ… Ø¬Ø°Ø§Ø¨ Ø¨ØªØ¯Ø±Ø¬ Ø£Ø®Ø¶Ø±
- Ø¸Ù„ Ù…Ù„ÙˆÙ† ÙŠØ¨Ø±Ø² Ø§Ù„ÙƒØ§Ø±Øª
- Ø´Ø§Ø±Ø© "LIVE" Ù„Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ø±Ø­Ù„Ø© Ø¬Ø§Ø±ÙŠØ©

### 2. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© âœ…
- ÙˆÙ‚Øª Ø¨Ø¯Ø¡ Ø§Ù„Ø±Ø­Ù„Ø©
- Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„ÙˆØµÙˆÙ„ (ETA)
- Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø­Ù„Ø© (In Progress)

### 3. Ø²Ø± Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± âœ…
- Ø²Ø± ÙˆØ§Ø¶Ø­ Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
- ØªØµÙ…ÙŠÙ… ÙŠØ´Ø¬Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§Ø¹Ù„

### 4. ØªÙ†Ø¸ÙŠÙ… Ø£ÙØ¶Ù„ Ù„Ù„Ù…Ø­ØªÙˆÙ‰ âœ…
- Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰
- Ø¨Ø§Ù‚ÙŠ Ø±Ø­Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ… ØªØ­ØªÙ‡Ø§
- Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ø¶Ø­Ø© Ù„ÙƒÙ„ Ù‚Ø³Ù…

## ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù†

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: ÙŠÙˆØ¬Ø¯ Ø±Ø­Ù„Ø© Ù†Ø´Ø·Ø©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Active Ride                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸšŒ Ride in Progress [LIVE]â”‚  â”‚ â† ÙƒØ§Ø±Øª Ø£Ø®Ø¶Ø±
â”‚  â”‚ Started: 7:30 AM          â”‚  â”‚
â”‚  â”‚ ETA: 8:00 AM              â”‚  â”‚
â”‚  â”‚ ğŸ“ Track Live Location â†’  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚
â”‚  Other Rides Today              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Afternoon Ride - 2:00 PM  â”‚  â”‚ â† ÙƒØ§Ø±Øª Ø¹Ø§Ø¯ÙŠ
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø­Ù„Ø© Ù†Ø´Ø·Ø©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Today                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Morning Ride - 7:30 AM    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Afternoon Ride - 2:00 PM  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 3: Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø­Ù„Ø§Øª Ø§Ù„ÙŠÙˆÙ…
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ“…                      â”‚
â”‚   No Rides Today                â”‚
â”‚   You have no scheduled rides   â”‚
â”‚   for today                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ø¯Ù„Ø©
1. `lib/features/rides/cubit/child_rides_cubit.dart` - Ø¥Ø¶Ø§ÙØ© activeRide
2. `lib/features/rides/ui/screens/child_schedule_screen.dart` - UI Ù„Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø©

## TODO - Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©
- [ ] Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª Ù„Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ù…Ù„ÙØ§Øª l10n
- [ ] Ø±Ø¨Ø· Ø²Ø± "Track Live Location" Ø¨Ø´Ø§Ø´Ø© Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
- [ ] Ø¥Ø¶Ø§ÙØ© ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ© Ù„Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø·Ø©
- [ ] Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙˆØ§Ù„Ø¨Ø§Øµ ÙÙŠ Ø§Ù„ÙƒØ§Ø±Øª
- [ ] Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¹Ù†Ø¯ Ø¸Ù‡ÙˆØ± Ø§Ù„ÙƒØ§Ø±Øª Ø§Ù„Ø£Ø®Ø¶Ø±

## Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
1. âœ… Ø§ÙØªØ­ ØµÙØ­Ø© Ø¬Ø¯ÙˆÙ„ Ø·ÙÙ„
2. âœ… Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØªØ§Ø¨ Today
3. âœ… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø±Ø­Ù„Ø© Ù†Ø´Ø·Ø© â†’ ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± ÙÙŠ ÙƒØ§Ø±Øª Ø£Ø®Ø¶Ø± ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰
4. âœ… Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø±Ø­Ù„Ø© Ù†Ø´Ø·Ø© â†’ ØªØ¸Ù‡Ø± Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø© ÙÙ‚Ø·
5. âœ… ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø±Ø¶ ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡ ÙˆØ§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
6. âœ… ØªØ­Ù‚Ù‚ Ù…Ù† Ø¸Ù‡ÙˆØ± Ø´Ø§Ø±Ø© "LIVE"
